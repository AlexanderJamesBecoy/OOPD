!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}({"/eZ3":function(t,e){},0:function(t,e,n){n("T8FV"),n("N/FP"),n("Z4ku"),n("PhIK"),n("Jg5S"),n("0Lue"),n("xyG6"),n("dO9E"),n("4xen"),n("uEP5"),n("Ve7e"),n("pbyo"),n("7r6b"),n("0WYZ"),n("dSnE"),n("a9Yu"),n("us06"),n("5pLM"),n("wm8C"),n("86Zd"),n("Xg8r"),n("QpoW"),n("JzrJ"),n("dIc1"),n("SIsP"),n("bSYB"),n("zxjm"),n("/eZ3"),t.exports=n("o/nP")},"0Lue":function(t,e){},"0WYZ":function(t,e){},"4xen":function(t,e){},"5pLM":function(t,e){},"7r6b":function(t,e){},"86Zd":function(t,e){},Jg5S:function(t,e){},JzrJ:function(t,e){},"N/FP":function(t,e){},PhIK:function(t,e){},QpoW:function(t,e){},SIsP:function(t,e){},T8FV:function(t,e,n){"use strict";var a=React.createClass({displayName:"NotificationItem",_click:function(t){this.setState({clicked:!0}),document.location=BASE_URL+"/user/notification/"+t},getInitialState:function(){return{clicked:!1}},render:function(){var t=this.props.notification,e="alert alert-success alert-alt";return(1==this.props.notification.is_read||this.state.clicked)&&(e="alert alert-default alert-alt text-muted"),React.createElement("div",{onClick:this._click.bind(this,t.id_hashed),className:e},React.createElement("strong",null,React.createElement("i",{className:t.icon})," ",t.subject),React.createElement("br",null),t.body,React.createElement("br",null),React.createElement("small",null,t.created_at))}}),i=React.createClass({displayName:"NotificationBox",_showMore:function(){$.get(BASE_URL+"/user/show-more-notifications/"+this.state.offset,this._addNotifications)},_addNotifications:function(t){var e=this.state.notifications,n=e.concat(t);this.setState({notifications:n,offset:this.state.offset+t.length})},_markAllRead:function(t){$.get(BASE_URL+"/user/mark-notifications/",this._setNotifications)},_setNotifications:function(t){this.setState({notifications:t.data,total:t.total,offset:t.data.length,unread_count:0})},getInitialState:function(){return{notifications:this.props.notifications,total:this.props.total,offset:this.props.offset,unread_count:this.props.notifications_unread_count}},componentWillMount:function(){this.notification_channel=this.props.channel},componentDidMount:function(){this.notification_channel.bind("new-notification",function(t){var e=this.state.notifications;e.unshift(t[0]);var n=this.state.unread_count;n++;var a=this.state.total;a++;var i=this.state.offset;i++,this.setState({notifications:e,unread_count:n,total:a,offset:i})},this),$(document).on("click","#notifications .dropdown-menu, #notifications .dropdown-menu *",function(t){return t.preventDefault(),!1})},render:function(){var t=this.state.notifications,e="";this.state.unread_count>0&&(e=React.createElement("span",{className:"label label-primary label-indicator"},this.state.unread_count));var n=t.map(function(t){return React.createElement(a,{key:t.id,notification:t})});if(n.length<1)return React.createElement("div",null,React.createElement("ul",{className:"nav navbar-nav-custom pull-right"},React.createElement("li",null,React.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown"},React.createElement("i",{className:"gi gi-bell"})),React.createElement("ul",{className:"dropdown-menu dropdown-menu-right keep-open-on-click"},React.createElement("li",null,React.createElement("div",{className:"alert alert-info alert-no-notifications text-center"},"Er zijn geen notificaties"))))));var i="";return this.state.offset<this.state.total&&(i=React.createElement("div",{className:"btn-show-more text-center"},React.createElement("a",{onClick:this._showMore},"Meer weergeven (",this.state.total-this.state.offset,")"))),React.createElement("div",null,React.createElement("ul",{className:"nav navbar-nav-custom pull-right"},React.createElement("li",null,React.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown"},React.createElement("i",{className:"gi gi-bell"}),e),React.createElement("ul",{className:"dropdown-menu dropdown-menu-right keep-open-on-click"},React.createElement("li",null,React.createElement("a",{className:"btn-mark-as-read text-center",href:"javascript:;",onClick:this._markAllRead},"Markeer alle als gelezen")),React.createElement("li",null,React.createElement("div",{className:"notification-container"},n,i))))))}});ReactDOM.render(React.createElement(i,{channel:pusherUserChannel,notifications_unread_count:notifications_unread_count,notifications:notifications.data,total:notifications.total,offset:notifications.per_page}),document.getElementById("notifications"))},Ve7e:function(t,e){},Xg8r:function(t,e){},Z4ku:function(t,e){},a9Yu:function(t,e){},bSYB:function(t,e){},dIc1:function(t,e){},dO9E:function(t,e){},dSnE:function(t,e){},"o/nP":function(t,e){},pbyo:function(t,e){},uEP5:function(t,e){},us06:function(t,e){},wm8C:function(t,e){},xyG6:function(t,e){},zxjm:function(t,e){}});
//# sourceMappingURL=notifications.js.map